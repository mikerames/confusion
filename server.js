// set up ======================================================================var express = require('express');         // node.js framework w/ HTTP utility methods and middleware to create a robust APIvar app = express();                // create our app w/ expressvar mongoose = require('mongoose');        // mongoose for mongodbvar port = process.env.PORT || 8081;        // set the portvar database = require('./config/database');    // load the database configvar morgan = require('morgan');          // HTTP request logger middleware for node.jsvar bodyParser = require('body-parser');     // Node.js body parsing middlewarevar methodOverride = require('method-override'); // simulates DELETE and PUT (_method / app.post / app.put// configuration ===============================================================mongoose.connect(database.localUrl);        // Connect to local MongoDB instance//mongoose.connect(database.herokuUrl);      // Connect to remoteUrl MongoDB instanceapp.use(express.static('./app'));                // set the static files location /public/img will be /img for usersapp.use(morgan('dev'));                     // log every request to the consoleapp.use(bodyParser.urlencoded({'extended': 'true'}));      // parse application/x-www-form-urlencodedapp.use(bodyParser.json());                   // parse application/jsonapp.use(bodyParser.json({type: 'application/vnd.api+json'}));  // parse application/vnd.api+json as jsonapp.use(methodOverride('X-HTTP-Method-Override'));       // override with the X-HTTP-Method-Override header in the request// routes ======================================================================require('./server/routes.js')(app);// listen (start app with node server.js) ======================================app.listen(port);console.log("App listening on port " + port);
